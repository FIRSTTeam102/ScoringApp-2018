//-
	Match scoring page.
	PARAM
		layout	[Object Array] [{type, label, id}] from db.scoringlayout
	CALLED BY
		scouting.js '/scouting/match'
	//
extends ../layout
block content
	script(src="/js/match-client.js")
	- var titlePortion = key.substring(key.indexOf('_')+1).replace('_',', ').replace('qm','Match #').replace('frc','Team #');
	- var btnColor = (alliance == "Red") ? "theme-red" : "gear-blue"
	h3
		div(class=`${btnColor} w3-btn`)
			span= titlePortion
	p
	form#matchform(name="matchform")
		input#matchkey(type="hidden", name="matchkey", value=`${key}`)
		div(style="text-align:center")
			each element in layout
				case element.type
					when "checkbox"
						include templates/formCheckbox
					when "counter"
						include templates/formCounter
					when "badcounter"
						include templates/formBadcounter
					when "multiselect"
						include templates/formMultiselect
					when "textblock"
						include templates/formTextblock
					when "h2"
						include templates/categoryHeader
					when "spacer"
						include templates/formSpacer
	center
		button#submit( onclick="window.onbeforeunload = null;" class="w3-btn theme-submit") Submit
	| <script>
	each element in layout
		case element.type
			when "checkbox"
				include templates/scriptCheckbox
			when "counter"
			when "badcounter"
				include templates/scriptCounter
	| </script>
	script.
		window.onbeforeunload = function() {
			return "Leaving this page will lose scoring data.";
		};